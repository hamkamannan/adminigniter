!function(t,i){if("function"==typeof define&&define.amd)define([],i);else if("undefined"!=typeof exports)i();else{var e={exports:{}};i(),t.bootstrapTable=e.exports}}(this,function(){"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}var e=function(){function t(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),i}}(),o=function(){function t(t,i){var e=[],o=!0,s=!1,n=void 0;try{for(var a,r=t[Symbol.iterator]();!(o=(a=r.next()).done)&&(e.push(a.value),!i||e.length!==i);o=!0);}catch(t){s=!0,n=t}finally{try{!o&&r.return&&r.return()}finally{if(s)throw n}}return e}return function(i,e){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){var a=3;try{var r=n.fn.dropdown.Constructor.VERSION;void 0!==r&&(a=parseInt(r,10))}catch(t){}var l={3:{iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen"},classes:{buttons:"default",pull:"pull"},html:{toobarDropdow:['<ul class="dropdown-menu" role="menu">',"</ul>"],toobarDropdowItem:'<li role="menuitem"><label>%s</label></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>'}},4:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt"},classes:{buttons:"secondary",pull:"float"},html:{toobarDropdow:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toobarDropdowItem:'<label class="dropdown-item">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>'}}}[a],h={bootstrapVersion:a,sprintf:function(t){for(var i=arguments.length,e=Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];var s=!0,n=0,a=t.replace(/%s/g,function(){var t=e[n++];return void 0===t?(s=!1,""):t});return s?a:""},getFieldTitle:function(t,i){var e=!0,o=!1,s=void 0;try{for(var n,a=t[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var r=n.value;if(r.field===i)return r.title}}catch(t){o=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw s}}return""},setFieldIndex:function(t){var i=0,e=[],o=!0,s=!1,n=void 0;try{for(var a,r=t[0][Symbol.iterator]();!(o=(a=r.next()).done);o=!0){i+=a.value.colspan||1}}catch(t){s=!0,n=t}finally{try{!o&&r.return&&r.return()}finally{if(s)throw n}}for(var l=0;l<t.length;l++){e[l]=[];for(var h=0;h<i;h++)e[l][h]=!1}for(var c=0;c<t.length;c++){var d=!0,p=!1,u=void 0;try{for(var f,g=t[c][Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var v=f.value,b=v.rowspan||1,y=v.colspan||1,m=e[c].indexOf(!1);1===y&&(v.fieldIndex=m,void 0===v.field&&(v.field=m));for(var w=0;w<b;w++)e[c+w][m]=!0;for(var k=0;k<y;k++)e[c][m+k]=!0}}catch(t){p=!0,u=t}finally{try{!d&&g.return&&g.return()}finally{if(p)throw u}}}},getScrollBarWidth:function(){if(null===this.cachedWidth){var t=n("<div/>").addClass("fixed-table-scroll-inner"),i=n("<div/>").addClass("fixed-table-scroll-outer");i.append(t),n("body").append(i);var e=t[0].offsetWidth;i.css("overflow","scroll");var o=t[0].offsetWidth;e===o&&(o=i[0].clientWidth),i.remove(),this.cachedWidth=e-o}return this.cachedWidth},calculateObjectValue:function(t,e,o,n){var a=e;if("string"==typeof e){var r=e.split(".");if(r.length>1){a=window;var l=!0,h=!1,c=void 0;try{for(var d,p=r[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){a=a[d.value]}}catch(t){h=!0,c=t}finally{try{!l&&p.return&&p.return()}finally{if(h)throw c}}}else a=window[e]}return null!==a&&"object"===(void 0===a?"undefined":s(a))?a:"function"==typeof a?a.apply(t,o||[]):!a&&"string"==typeof e&&this.sprintf.apply(this,[e].concat(i(o)))?this.sprintf.apply(this,[e].concat(i(o))):n},compareObjects:function(t,i,e){var o=Object.keys(t),s=Object.keys(i);if(e&&o.length!==s.length)return!1;var n=!0,a=!1,r=void 0;try{for(var l,h=o[Symbol.iterator]();!(n=(l=h.next()).done);n=!0){var c=l.value;if(s.includes(c)&&t[c]!==i[c])return!1}}catch(t){a=!0,r=t}finally{try{!n&&h.return&&h.return()}finally{if(a)throw r}}return!0},escapeHTML:function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):t},getRealDataAttr:function(t){var i=!0,e=!1,s=void 0;try{for(var n,a=Object.entries(t)[Symbol.iterator]();!(i=(n=a.next()).done);i=!0){var r=n.value,l=o(r,2),h=l[0],c=l[1],d=h.split(/(?=[A-Z])/).join("-").toLowerCase();d!==h&&(t[d]=c,delete t[h])}}catch(t){e=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(e)throw s}}return t},getItemField:function(t,i,e){var o=t;if("string"!=typeof i||t.hasOwnProperty(i))return e?this.escapeHTML(t[i]):t[i];var s=i.split("."),n=!0,a=!1,r=void 0;try{for(var l,h=s[Symbol.iterator]();!(n=(l=h.next()).done);n=!0){var c=l.value;o=o&&o[c]}}catch(t){a=!0,r=t}finally{try{!n&&h.return&&h.return()}finally{if(a)throw r}}return e?this.escapeHTML(o):o},isIEBrowser:function(){return navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(t,i){var e=!0,s=!1,n=void 0;try{for(var a,r=t.entries()[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var l=a.value,h=o(l,2),c=h[0],d=h[1];if(JSON.stringify(d)===JSON.stringify(i))return c}}catch(t){s=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw n}}return-1}},c={locale:void 0,height:void 0,undefinedText:"-",classes:"table table-hover",theadClasses:"",sortClass:void 0,striped:!1,rowStyle:function(t,i){return{}},rowAttributes:function(t,i){return{}},sortable:!0,silentSort:!0,sortName:void 0,sortOrder:"asc",sortStable:!1,rememberOrder:!1,customSort:n.noop,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchOnEnterKey:!1,strictSearch:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:n.noop,showHeader:!0,showFooter:!1,footerStyle:function(t,i){return{}},showColumns:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(t,i){return""},detailFilter:function(t,i){return!0},selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(t){return["A","BUTTON"].includes(t.tagName)},singleSelect:!1,checkboxHeader:!0,maintainSelected:!1,toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsClass:l.classes.buttons,icons:l.icons,iconSize:void 0,iconsPrefix:l.iconsPrefix,onAll:function(t,i){return!1},onClickCell:function(t,i,e,o){return!1},onDblClickCell:function(t,i,e,o){return!1},onClickRow:function(t,i){return!1},onDblClickRow:function(t,i){return!1},onSort:function(t,i){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,i){return!1},onPageChange:function(t,i){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(t,i,e){return!1},onCollapseRow:function(t,i){return!1},onRefreshOptions:function(t){return!1},onRefresh:function(t){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},d={};d["en-US"]=d.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return h.sprintf("%s rows per page",t)},formatShowingRows:function(t,i,e){return h.sprintf("Showing %s to %s of %s rows",t,i,e)},formatDetailPagination:function(t){return h.sprintf("Showing %s rows",t)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatFullscreen:function(){return"Fullscreen"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},n.extend(c,d["en-US"]);var p={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,class:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1,showSelectTitle:!1},u={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"},f=function(){function i(e,o){t(this,i),this.options=o,this.$el=n(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()}return e(i,[{key:"init",value:function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:"initLocale",value:function(){if(this.options.locale){var t=n.fn.bootstrapTable.locales,i=this.options.locale.split(/-|_/);i[0].toLowerCase(),i[1]&&i[1].toUpperCase(),t[this.options.locale]?n.extend(this.options,t[this.options.locale]):n.fn.bootstrapTable.locales[i.join("-")]?n.extend(this.options,t[i.join("-")]):n.fn.bootstrapTable.locales[i[0]]&&n.extend(this.options,t[i[0]])}}},{key:"initContainer",value:function(){var t=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",i=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"";this.$container=n('\n        <div class="bootstrap-table">\n        <div class="fixed-table-toolbar"></div>\n        '+t+'\n        <div class="fixed-table-container">\n        <div class="fixed-table-header"><table></table></div>\n        <div class="fixed-table-body">\n        <div class="fixed-table-loading">\n        '+this.options.formatLoadingMessage()+'\n        </div>\n        </div>\n        <div class="fixed-table-footer"><table><tr></tr></table></div>\n        </div>\n        '+i+"\n        </div>\n      "),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.options.buttonsToolbar?this.$toolbar=n("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),this.options.classes.split(" ").includes("table-no-bordered")&&this.$tableContainer.addClass("table-no-bordered")}},{key:"initTable",value:function(){var t=this,e=[],o=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=n('<thead class="'+this.options.theadClasses+'"></thead>').appendTo(this.$el)),this.$header.find("tr").each(function(t,i){var o=[];n(i).find("th").each(function(t,i){void 0!==n(i).data("field")&&n(i).data("field",""+n(i).data("field")),o.push(n.extend({},{title:n(i).html(),class:n(i).attr("class"),titleTooltip:n(i).attr("title"),rowspan:n(i).attr("rowspan")?+n(i).attr("rowspan"):void 0,colspan:n(i).attr("colspan")?+n(i).attr("colspan"):void 0},n(i).data()))}),e.push(o)}),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=n.extend(!0,[],e,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],h.setFieldIndex(this.options.columns),this.options.columns.forEach(function(e,o){e.forEach(function(e,s){var a=n.extend({},i.COLUMN_DEFAULTS,e);void 0!==a.fieldIndex&&(t.columns[a.fieldIndex]=a,t.fieldsColumnsIndex[a.field]=a.fieldIndex),t.options.columns[o][s]=a})}),!this.options.data.length){var s=[];this.$el.find(">tbody>tr").each(function(i,e){var a={};a._id=n(e).attr("id"),a._class=n(e).attr("class"),a._data=h.getRealDataAttr(n(e).data()),n(e).find(">td").each(function(e,o){for(var r=+n(o).attr("colspan")||1,l=+n(o).attr("rowspan")||1,c=e;s[i]&&s[i][c];c++);for(var d=c;d<c+r;d++)for(var p=i;p<i+l;p++)s[p]||(s[p]=[]),s[p][d]=!0;var u=t.columns[c].field;a[u]=n(o).html(),a["_"+u+"_id"]=n(o).attr("id"),a["_"+u+"_class"]=n(o).attr("class"),a["_"+u+"_rowspan"]=n(o).attr("rowspan"),a["_"+u+"_colspan"]=n(o).attr("colspan"),a["_"+u+"_title"]=n(o).attr("title"),a["_"+u+"_data"]=h.getRealDataAttr(n(o).data())}),o.push(a)}),this.options.data=o,o.length&&(this.fromHtml=!0)}}},{key:"initHeader",value:function(){var t=this,i={},e=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},this.options.columns.forEach(function(o,s){e.push("<tr>"),0===s&&!t.options.cardView&&t.options.detailView&&e.push('<th class="detail" rowspan="'+t.options.columns.length+'">\n            <div class="fht-cell"></div>\n            </th>\n          '),o.forEach(function(o,n){var a="",r="",l="",c="",d=h.sprintf(' class="%s"',o.class),p="px",u=o.width;if(void 0===o.width||t.options.cardView||"string"==typeof o.width&&o.width.includes("%")&&(p="%"),o.width&&"string"==typeof o.width&&(u=o.width.replace("%","").replace("px","")),r=h.sprintf("text-align: %s; ",o.halign?o.halign:o.align),l=h.sprintf("text-align: %s; ",o.align),c=h.sprintf("vertical-align: %s; ",o.valign),c+=h.sprintf("width: %s; ",!o.checkbox&&!o.radio||u?u?u+p:void 0:o.showSelectTitle?void 0:"36px"),void 0!==o.fieldIndex){if(t.header.fields[o.fieldIndex]=o.field,t.header.styles[o.fieldIndex]=l+c,t.header.classes[o.fieldIndex]=d,t.header.formatters[o.fieldIndex]=o.formatter,t.header.events[o.fieldIndex]=o.events,t.header.sorters[o.fieldIndex]=o.sorter,t.header.sortNames[o.fieldIndex]=o.sortName,t.header.cellStyles[o.fieldIndex]=o.cellStyle,t.header.searchables[o.fieldIndex]=o.searchable,!o.visible)return;if(t.options.cardView&&!o.cardVisible)return;i[o.field]=o}e.push("<th"+h.sprintf(' title="%s"',o.titleTooltip),o.checkbox||o.radio?h.sprintf(' class="bs-checkbox %s"',o.class||""):d,h.sprintf(' style="%s"',r+c),h.sprintf(' rowspan="%s"',o.rowspan),h.sprintf(' colspan="%s"',o.colspan),h.sprintf(' data-field="%s"',o.field),0===n&&s>0?" data-not-first-th":"",">"),e.push(h.sprintf('<div class="th-inner %s">',t.options.sortable&&o.sortable?"sortable both":"")),a=t.options.escape?h.escapeHTML(o.title):o.title;var f=a;o.checkbox&&(a="",!t.options.singleSelect&&t.options.checkboxHeader&&(a='<input name="btSelectAll" type="checkbox" />'),t.header.stateField=o.field),o.radio&&(a="",t.header.stateField=o.field,t.options.singleSelect=!0),!a&&o.showSelectTitle&&(a+=f),e.push(a),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}),e.push("</tr>")}),this.$header.html(e.join("")),this.$header.find("th[data-field]").each(function(t,e){n(e).data(i[n(e).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var e=n(i.currentTarget);if(t.options.detailView&&!e.parent().hasClass("bs-checkbox")&&e.closest(".bootstrap-table")[0]!==t.$container[0])return!1;t.options.sortable&&e.parent().data().sortable&&t.onSort(i)}),this.$header.children().children().off("keypress").on("keypress",function(i){if(t.options.sortable&&n(i.currentTarget).data().sortable){13===(i.keyCode||i.which)&&t.onSort(i)}}),n(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),n(window).on("resize.bootstrap-table",n.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(i){var e=i.currentTarget,o=n(e).prop("checked");t[o?"checkAll":"uncheckAll"](),t.updateSelected()})}},{key:"initFooter",value:function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:"initData",value:function(t,i){this.options.data="append"===i?this.options.data.concat(t):"prepend"===i?[].concat(t).concat(this.options.data):t||this.options.data,this.data=this.options.data,"server"!==this.options.sidePagination&&this.initSort()}},{key:"initSort",value:function(){var t=this,i=this.options.sortName,e="desc"===this.options.sortOrder?-1:1,o=this.header.fields.indexOf(this.options.sortName),s=0;if(this.options.customSort!==n.noop)return void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]);-1!==o&&(this.options.sortStable&&this.data.forEach(function(t,i){t._position=i}),this.data.sort(function(s,a){t.header.sortNames[o]&&(i=t.header.sortNames[o]);var r=h.getItemField(s,i,t.options.escape),l=h.getItemField(a,i,t.options.escape),c=h.calculateObjectValue(t.header,t.header.sorters[o],[r,l,s,a]);return void 0!==c?t.options.sortStable&&0===c?s._position-a._position:e*c:(void 0!==r&&null!==r||(r=""),void 0!==l&&null!==l||(l=""),t.options.sortStable&&r===l?(r=s._position,l=a._position,s._position-a._position):n.isNumeric(r)&&n.isNumeric(l)?(r=parseFloat(r),l=parseFloat(l),r<l?-1*e:e):r===l?0:("string"!=typeof r&&(r=r.toString()),-1===r.localeCompare(l)?-1*e:e))}),void 0!==this.options.sortClass&&(clearTimeout(s),s=setTimeout(function(){t.$el.removeClass(t.options.sortClass);var i=t.$header.find(h.sprintf('[data-field="%s"]',t.options.sortName).index()+1);t.$el.find(h.sprintf("tr td:nth-child(%s)",i)).addClass(t.options.sortClass)},250)))}},{key:"onSort",value:function(t){var i=t.type,e=t.currentTarget,o="keypress"===i?n(e):n(e).parent(),s=this.$header.find("th").eq(o.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===o.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=o.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===o.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[o.data("field")]].order),this.trigger("sort",this.options.sortName,this.options.sortOrder),o.add(s).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination)return void this.initServer(this.options.silentSort);this.initSort(),this.initBody()}},{key:"initToolbar",value:function(){var t=this,i=[],e=0,o=void 0,a=void 0,r=0;this.$toolbar.find(".bs-bars").children().length&&n("body").append(n(this.options.toolbar)),this.$toolbar.html(""),"string"!=typeof this.options.toolbar&&"object"!==s(this.options.toolbar)||n(h.sprintf('<div class="bs-bars %s-%s"></div>',l.classes.pull,this.options.toolbarAlign)).appendTo(this.$toolbar).append(n(this.options.toolbar)),i=[h.sprintf('<div class="columns columns-%s btn-group %s-%s">',this.options.buttonsAlign,l.classes.pull,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=h.calculateObjectValue(null,this.options.icons)),this.options.showPaginationSwitch&&i.push(h.sprintf('<button class="btn'+h.sprintf(" btn-%s",this.options.buttonsClass)+h.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),h.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showFullscreen&&this.$toolbar.find('button[name="fullscreen"]').off("click").on("click",n.proxy(this.toggleFullscreen,this)),this.options.showRefresh&&i.push(h.sprintf('<button class="btn'+h.sprintf(" btn-%s",this.options.buttonsClass)+h.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),h.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&i.push(h.sprintf('<button class="btn'+h.sprintf(" btn-%s",this.options.buttonsClass)+h.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),h.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggleOff),"</button>"),this.options.showFullscreen&&i.push(h.sprintf('<button class="btn'+h.sprintf(" btn-%s",this.options.buttonsClass)+h.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="fullscreen" aria-label="fullscreen" title="%s">',this.options.formatFullscreen()),h.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.fullscreen),"</button>"),this.options.showColumns&&(i.push(h.sprintf('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+h.sprintf(" btn-%s",this.options.buttonsClass)+h.sprintf(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',h.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",l.html.toobarDropdow[0]),this.columns.forEach(function(e,o){if(!e.radio&&!e.checkbox&&(!t.options.cardView||e.cardVisible)){var s=e.visible?' checked="checked"':"";e.switchable&&(i.push(h.sprintf(l.html.toobarDropdowItem,h.sprintf('<input type="checkbox" data-field="%s" value="%s"%s> %s',e.field,o,s,e.title))),r++)}}),i.push(l.html.toobarDropdow[1],"</div>")),i.push("</div>"),(this.showToolbar||i.length>2)&&this.$toolbar.append(i.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",n.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",n.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){t.toggleView()}),this.options.showColumns&&(o=this.$toolbar.find(".keep-open"),r<=this.options.minimumCountColumns&&o.find("input").prop("disabled",!0),o.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()}),o.find("input").off("click").on("click",function(i){var e=i.currentTarget,o=n(e);t.toggleColumn(o.val(),o.prop("checked"),!1),t.trigger("column-switch",o.data("field"),o.prop("checked"))})),this.options.search&&(i=[],i.push(h.sprintf('<div class="%s-%s search">',l.classes.pull,this.options.searchAlign),h.sprintf('<input class="form-control'+h.sprintf(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(i.join("")),a=this.$toolbar.find(".search input"),a.off("keyup drop blur").on("keyup drop blur",function(i){t.options.searchOnEnterKey&&13!==i.keyCode||[37,38,39,40].includes(i.keyCode)||(clearTimeout(e),e=setTimeout(function(){t.onSearch(i)},t.options.searchTimeOut))}),h.isIEBrowser()&&a.off("mouseup").on("mouseup",function(i){clearTimeout(e),e=setTimeout(function(){t.onSearch(i)},t.options.searchTimeOut)}))}},{key:"onSearch",value:function(t){var i=t.currentTarget,e=t.firedByInitSearchText,o=n.trim(n(i).val());this.options.trimOnSearch&&n(i).val()!==o&&n(i).val(o),o!==this.searchText&&(this.searchText=o,this.options.searchText=o,e||(this.options.pageNumber=1),this.initSearch(),e?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",o))}},{key:"initSearch",value:function(){var t=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==n.noop)return void h.calculateObjectValue(this.options,this.options.customSearch,[this.searchText]);var i=this.searchText&&(this.options.escape?h.escapeHTML(this.searchText):this.searchText).toLowerCase(),e=n.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=e?this.options.data.filter(function(t,i){for(var o in e)if(Array.isArray(e[o])&&!e[o].includes(t[o])||!Array.isArray(e[o])&&t[o]!==e[o])return!1;return!0}):this.options.data,this.data=i?this.data.filter(function(e,o){for(var s=0;s<t.header.fields.length;s++)if(t.header.searchables[s]){var a=n.isNumeric(t.header.fields[s])?parseInt(t.header.fields[s],10):t.header.fields[s],r=t.columns[t.fieldsColumnsIndex[a]],l=void 0;if("string"==typeof a){l=e;for(var c=a.split("."),d=0;d<c.length;d++)null!==l[c[d]]&&(l=l[c[d]])}else l=e[a];if(r&&r.searchFormatter&&(l=h.calculateObjectValue(r,t.header.formatters[s],[l,e,o],l)),"string"==typeof l||"number"==typeof l)if(t.options.strictSearch){if((""+l).toLowerCase()===i)return!0}else if((""+l).toLowerCase().includes(i))return!0}return!1}):this.data}}},{key:"initPagination",value:function(){var t=this;if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var i=[],e=!1,o=void 0,s=void 0,a=void 0,r=void 0,c=void 0,d=void 0,p=void 0,u=this.getData(),f=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=u.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,e=!0;else if(this.options.pageSize===this.options.totalRows){var g="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;g.includes(this.options.formatAllRows().toLowerCase())&&(e=!0)}this.totalPages=1+~~((this.options.totalRows-1)/this.options.pageSize),this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),i.push(h.sprintf('<div class="%s-%s pagination-detail">',l.classes.pull,this.options.paginationDetailHAlign),'<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){i.push('<span class="page-list">');var v=[h.sprintf('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+h.sprintf(" btn-%s",this.options.buttonsClass)+h.sprintf(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',e?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",l.html.pageDropdown[0]];if("string"==typeof this.options.pageList){var b=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");f=[];var y=!0,m=!1,w=void 0;try{for(var k,x=b[Symbol.iterator]();!(y=(k=x.next()).done);y=!0){var S=k.value;f.push(S.toUpperCase()===this.options.formatAllRows().toUpperCase()||"UNLIMITED"===S.toUpperCase()?this.options.formatAllRows():+S)}}catch(t){m=!0,w=t}finally{try{!y&&x.return&&x.return()}finally{if(m)throw w}}}f.forEach(function(i,o){if(!t.options.smartDisplay||0===o||f[o-1]<t.options.totalRows){var s=void 0;s=e?i===t.options.formatAllRows()?"active":"":i===t.options.pageSize?"active":"",v.push(h.sprintf(l.html.pageDropdownItem,s,i))}}),v.push(l.html.pageDropdown[1]+"</span>"),i.push(this.options.formatRecordsPerPage(v.join(""))),i.push("</span>"),i.push("</div>",h.sprintf('<div class="%s-%s pagination">',l.classes.pull,this.options.paginationHAlign),'<ul class="pagination'+h.sprintf(" pagination-%s",this.options.iconSize)+'">',h.sprintf('<li class="page-item page-pre"><a class="page-link" href="#">%s</a></li>',this.options.paginationPreText)),this.totalPages<this.options.paginationSuccessivelySize?(s=1,a=this.totalPages):(s=this.options.pageNumber-this.options.paginationPagesBySide,a=s+2*this.options.paginationPagesBySide),this.options.pageNumber<this.options.paginationSuccessivelySize-1&&(a=this.options.paginationSuccessivelySize),a>this.totalPages&&(a=this.totalPages),this.options.paginationSuccessivelySize>this.totalPages-s&&(s=s-(this.options.paginationSuccessivelySize-(this.totalPages-s))+1),s<1&&(s=1),a>this.totalPages&&(a=this.totalPages);var $=Math.round(this.options.paginationPagesBySide/2),P=function(i){return'\n            <li class="page-item'+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+(i===t.options.pageNumber?" active":"")+'">\n              <a class="page-link" href="#">'+i+"</a>\n            </li>\n          "};if(s>1){var C=this.options.paginationPagesBySide;for(C>=s&&(C=s-1),o=1;o<=C;o++)i.push(P(o));s-1===C+1?(o=s-1,i.push(P(o))):s-1>C&&(s-2*this.options.paginationPagesBySide>this.options.paginationPagesBySide&&this.options.paginationUseIntermediate?(o=Math.round((s-$)/2+$),i.push(P(o," page-intermediate"))):i.push('\n                  <li class="page-item page-first-separator disabled">\n                    <a class="page-link" href="#">...</a>\n                  </li>'))}for(o=s;o<=a;o++)i.push(P(o));if(this.totalPages>a){var T=this.totalPages-(this.options.paginationPagesBySide-1);for(a>=T&&(T=a+1),a+1===T-1?(o=a+1,
i.push(P(o))):T>a+1&&(this.totalPages-a>2*this.options.paginationPagesBySide&&this.options.paginationUseIntermediate?(o=Math.round((this.totalPages-$-a)/2+a),i.push(P(o," page-intermediate"))):i.push('\n                  <li class="page-item page-last-separator disabled">\n                    <a class="page-link" href="#">...</a>\n                  </li>')),o=T;o<=this.totalPages;o++)i.push(P(o))}i.push('\n          <li class="page-item page-next">\n          <a class="page-link" href="#">'+this.options.paginationNextText+"</a>\n          </li>\n          </ul>\n          </div>\n        ")}this.$pagination.html(i.join("")),this.options.onlyInfoPagination||(r=this.$pagination.find(".page-list a"),c=this.$pagination.find(".page-pre"),d=this.$pagination.find(".page-next"),p=this.$pagination.find(".page-item").not(".page-next, .page-pre"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(f.length<2||this.options.totalRows<=f[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),this.options.paginationLoop||(1===this.options.pageNumber&&c.addClass("disabled"),this.options.pageNumber===this.totalPages&&d.addClass("disabled")),e&&(this.options.pageSize=this.options.formatAllRows()),r.off("click").on("click",n.proxy(this.onPageListChange,this)),c.off("click").on("click",n.proxy(this.onPagePre,this)),d.off("click").on("click",n.proxy(this.onPageNext,this)),p.off("click").on("click",n.proxy(this.onPageNumber,this)))}},{key:"updatePagination",value:function(t){t&&n(t.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))}},{key:"onPageListChange",value:function(t){t.preventDefault();var i=n(t.currentTarget);return i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1}},{key:"onPagePre",value:function(t){return t.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t),!1}},{key:"onPageNext",value:function(t){return t.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t),!1}},{key:"onPageNumber",value:function(t){if(t.preventDefault(),this.options.pageNumber!==+n(t.currentTarget).text())return this.options.pageNumber=+n(t.currentTarget).text(),this.updatePagination(t),!1}},{key:"initRow",value:function(t,i,e,s){var a=this,r=[],l={},c=[],d="",p={},u=[];if(!(h.findIndex(this.hiddenRows,t)>-1)){if((l=h.calculateObjectValue(this.options,this.options.rowStyle,[t,i],l))&&l.css){var f=!0,g=!1,v=void 0;try{for(var b,y=Object.entries(l.css)[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var m=b.value,w=o(m,2),k=w[0],x=w[1];c.push(k+": "+x)}}catch(t){g=!0,v=t}finally{try{!f&&y.return&&y.return()}finally{if(g)throw v}}}if(p=h.calculateObjectValue(this.options,this.options.rowAttributes,[t,i],p)){var S=!0,$=!1,P=void 0;try{for(var C,T=Object.entries(p)[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var O=C.value,A=o(O,2),I=A[0],R=A[1];u.push(I+'="'+h.escapeHTML(R)+'"')}}catch(t){$=!0,P=t}finally{try{!S&&T.return&&T.return()}finally{if($)throw P}}}if(t._data&&!n.isEmptyObject(t._data)){var _=!0,F=!1,N=void 0;try{for(var V,B=Object.entries(t._data)[Symbol.iterator]();!(_=(V=B.next()).done);_=!0){var j=V.value,L=o(j,2),H=L[0],D=L[1];if("index"===H)return;d+=" data-"+H+'="'+D+'"'}}catch(t){F=!0,N=t}finally{try{!_&&B.return&&B.return()}finally{if(F)throw N}}}return r.push("<tr",h.sprintf(" %s",u.length?u.join(" "):void 0),h.sprintf(' id="%s"',Array.isArray(t)?void 0:t._id),h.sprintf(' class="%s"',l.classes||(Array.isArray(t)?void 0:t._class)),' data-index="'+i+'"',h.sprintf(' data-uniqueid="%s"',t[this.options.uniqueId]),h.sprintf("%s",d),">"),this.options.cardView&&r.push('<td colspan="'+this.header.fields.length+'"><div class="card-views">'),!this.options.cardView&&this.options.detailView&&(r.push("<td>"),h.calculateObjectValue(null,this.options.detailFilter,[i,t])&&r.push('\n            <a class="detail-icon" href="#">\n            <i class="'+this.options.iconsPrefix+" "+this.options.icons.detailOpen+'"></i>\n            </a>\n          '),r.push("</td>")),this.header.fields.forEach(function(e,s){var d="",p=h.getItemField(t,e,a.options.escape),u="",f="",g={},v="",b=a.header.classes[s],y="",m="",w="",k="",x="",S=a.columns[s];if((!a.fromHtml||void 0!==p||S.checkbox||S.radio)&&S.visible&&(!a.options.cardView||S.cardVisible)){if(S.escape&&(p=h.escapeHTML(p)),c.concat([a.header.styles[s]]).length&&(y=' style="'+c.concat([a.header.styles[s]]).join("; ")+'"'),t["_"+e+"_id"]&&(v=h.sprintf(' id="%s"',t["_"+e+"_id"])),t["_"+e+"_class"]&&(b=h.sprintf(' class="%s"',t["_"+e+"_class"])),t["_"+e+"_rowspan"]&&(w=h.sprintf(' rowspan="%s"',t["_"+e+"_rowspan"])),t["_"+e+"_colspan"]&&(k=h.sprintf(' colspan="%s"',t["_"+e+"_colspan"])),t["_"+e+"_title"]&&(x=h.sprintf(' title="%s"',t["_"+e+"_title"])),g=h.calculateObjectValue(a.header,a.header.cellStyles[s],[p,t,i,e],g),g.classes&&(b=' class="'+g.classes+'"'),g.css){var $=[],P=!0,C=!1,T=void 0;try{for(var O,A=Object.entries(g.css)[Symbol.iterator]();!(P=(O=A.next()).done);P=!0){var I=O.value,R=o(I,2),_=R[0],F=R[1];$.push(_+": "+F)}}catch(t){C=!0,T=t}finally{try{!P&&A.return&&A.return()}finally{if(C)throw T}}y=' style="'+$.concat(a.header.styles[s]).join("; ")+'"'}if(u=h.calculateObjectValue(S,a.header.formatters[s],[p,t,i,e],p),t["_"+e+"_data"]&&!n.isEmptyObject(t["_"+e+"_data"])){var N=!0,V=!1,B=void 0;try{for(var j,L=Object.entries(t["_"+e+"_data"])[Symbol.iterator]();!(N=(j=L.next()).done);N=!0){var H=j.value,D=o(H,2),E=D[0],z=D[1];if("index"===E)return;m+=" data-"+E+'="'+z+'"'}}catch(t){V=!0,B=t}finally{try{!N&&L.return&&L.return()}finally{if(V)throw B}}}if(S.checkbox||S.radio){f=S.checkbox?"checkbox":f,f=S.radio?"radio":f;var U=S.class||"",q=!0===u||p||u&&u.checked,M=!S.checkboxEnabled||u&&u.disabled;d=[a.options.cardView?'<div class="card-view '+U+'">':'<td class="bs-checkbox '+U+'">','<input\n              data-index="'+i+'"\n              name="'+a.options.selectItemName+'"\n              type="'+f+'"\n              '+h.sprintf('value="%s"',t[a.options.idField])+"\n              "+h.sprintf('checked="%s"',q?"checked":void 0)+"\n              "+h.sprintf('disabled="%s"',M?"disabled":void 0)+" />",a.header.formatters[s]&&"string"==typeof u?u:"",a.options.cardView?"</div>":"</td>"].join(""),t[a.header.stateField]=!0===u||!!p||u&&u.checked}else if(u=void 0===u||null===u?a.options.undefinedText:u,a.options.cardView){var W=a.options.showHeader?'<span class="title"'+l+">"+h.getFieldTitle(a.columns,e)+"</span>":"";d='<div class="card-view">'+W+'<span class="value">'+u+"</span></div>",a.options.smartDisplay&&""===u&&(d='<div class="card-view"></div>')}else d="<td"+v+b+y+m+w+k+x+">"+u+"</td>";r.push(d)}}),this.options.cardView&&r.push("</div></td>"),r.push("</tr>"),r.join("")}}},{key:"initBody",value:function(t){var i=this,e=this.getData();this.trigger("pre-body",e),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=n("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=e.length);for(var s=n(document.createDocumentFragment()),a=!1,r=this.pageFrom-1;r<this.pageTo;r++){var l=e[r],c=this.initRow(l,r,e,s);a=a||!!c,c&&"string"==typeof c&&s.append(c)}a?this.$body.html(s):this.$body.html('<tr class="no-records-found">'+h.sprintf('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>"),t||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(t){var e=t.currentTarget,o=t.type,s=t.target,a=n(e),r=a.parent(),l=i.data[r.data("index")],c=a[0].cellIndex,d=i.getVisibleFields(),p=d[i.options.detailView&&!i.options.cardView?c-1:c],u=i.columns[i.fieldsColumnsIndex[p]],f=h.getItemField(l,p,i.options.escape);if(!a.find(".detail-icon").length&&(i.trigger("click"===o?"click-cell":"dbl-click-cell",p,f,l,a),i.trigger("click"===o?"click-row":"dbl-click-row",l,r,p),"click"===o&&i.options.clickToSelect&&u.clickToSelect&&!i.options.ignoreClickToSelectOn(s))){var g=r.find(h.sprintf('[name="%s"]',i.options.selectItemName));g.length&&g[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(t){t.preventDefault();var o=n(t.currentTarget),s=o.parent().parent(),a=s.data("index"),r=e[a];if(s.next().is("tr.detail-view"))o.find("i").attr("class",h.sprintf("%s %s",i.options.iconsPrefix,i.options.icons.detailOpen)),i.trigger("collapse-row",a,r,s.next()),s.next().remove();else{o.find("i").attr("class",h.sprintf("%s %s",i.options.iconsPrefix,i.options.icons.detailClose)),s.after(h.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',s.find("td").length));var l=s.next().find("td"),c=h.calculateObjectValue(i.options,i.options.detailFormatter,[a,r,l],"");1===l.length&&l.append(c),i.trigger("expand-row",a,r,l)}return i.resetView(),!1}),this.$selectItem=this.$body.find(h.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var e=n(t.currentTarget);i.check_(e.prop("checked"),e.data("index"))}),this.header.events.forEach(function(t,e){var s=t;if(s){"string"==typeof s&&(s=h.calculateObjectValue(null,s));var a=i.header.fields[e],r=i.getVisibleFields().indexOf(a);if(-1!==r){i.options.detailView&&!i.options.cardView&&(r+=1);var l=!0,c=!1,d=void 0;try{for(var p,u=Object.entries(s)[Symbol.iterator]();!(l=(p=u.next()).done);l=!0){var f=p.value,g=o(f,2),v=g[0],b=g[1];!function(t,e){i.$body.find(">tr:not(.no-records-found)").each(function(o,s){var l=n(s),h=l.find(i.options.cardView?".card-view":"td").eq(r),c=t.indexOf(" "),d=t.substring(0,c),p=t.substring(c+1);h.find(p).off(d).on(d,function(t){var o=l.data("index"),s=i.data[o],n=s[a];e.apply(i,[t,n,s,o])})})}(v,b)}}catch(t){c=!0,d=t}finally{try{!l&&u.return&&u.return()}finally{if(c)throw d}}}}}),this.updateSelected(),this.resetView(),this.trigger("post-body",e)}},{key:"initServer",value:function(t,i,e){var o=this,s={},a=this.header.fields.indexOf(this.options.sortName),r={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[a]&&(r.sortName=this.header.sortNames[a]),this.options.pagination&&"server"===this.options.sidePagination&&(r.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,r.pageNumber=this.options.pageNumber),(e||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(r={search:r.searchText,sort:r.sortName,order:r.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(r.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),r.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===r.limit&&delete r.limit)),n.isEmptyObject(this.filterColumnsPartial)||(r.filter=JSON.stringify(this.filterColumnsPartial,null)),s=h.calculateObjectValue(this.options,this.options.queryParams,[r],s),n.extend(s,i||{}),!1!==s)){t||this.$tableLoading.show();var l=n.extend({},h.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:e||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(s):s,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(i){var e=h.calculateObjectValue(o.options,o.options.responseHandler,[i],i);o.load(e),o.trigger("load-success",e),t||o.$tableLoading.hide()},error:function(i){var e=[];"server"===o.options.sidePagination&&(e={},e[o.options.totalField]=0,e[o.options.dataField]=[]),o.load(e),o.trigger("load-error",i.status,i),t||o.$tableLoading.hide()}});this.options.ajax?h.calculateObjectValue(this,this.options.ajax,[l],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=n.ajax(l))}}},{key:"initSearchText",value:function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var t=this.$toolbar.find(".search input");t.val(this.options.searchText),this.onSearch({currentTarget:t,firedByInitSearchText:!0})}}},{key:"getCaret",value:function(){var t=this;this.$header.find("th").each(function(i,e){n(e).find(".sortable").removeClass("desc asc").addClass(n(e).data("field")===t.options.sortName?t.options.sortOrder:"both")})}},{key:"updateSelected",value:function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each(function(t,i){n(i).closest("tr")[n(i).prop("checked")?"addClass":"removeClass"]("selected")})}},{key:"updateRows",value:function(){var t=this;this.$selectItem.each(function(i,e){t.data[n(e).data("index")][t.header.stateField]=n(e).prop("checked")})}},{key:"resetRows",value:function(){var t=!0,i=!1,e=void 0;try{for(var o,s=this.data[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var n=o.value;this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(n[this.header.stateField]=!1)}}catch(t){i=!0,e=t}finally{try{!t&&s.return&&s.return()}finally{if(i)throw e}}this.initHiddenRows()}},{key:"trigger",value:function(t){for(var e,o=t+".bs.table",s=arguments.length,a=Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];(e=this.options)[i.EVENTS[o]].apply(e,a),this.$el.trigger(n.Event(o),a),this.options.onAll(o,a),this.$el.trigger(n.Event("all.bs.table"),[o,a])}},{key:"resetHeader",value:function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(n.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var t=this;if(this.$el.is(":hidden"))return void(this.timeoutId_=setTimeout(n.proxy(this.fitHeader,this),100));var i=this.$tableBody.get(0),e=i.scrollWidth>i.clientWidth&&i.scrollHeight>i.clientHeight+this.$header.outerHeight()?h.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());var o=n(":focus");if(o.length>0){var s=o.parents("th");if(s.length>0){var a=s.attr("data-field");if(void 0!==a){var r=this.$header.find("[data-field='"+a+"']");r.length>0&&r.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":e}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);var l=n(".focus-temp:visible:eq(0)");l.length>0&&(l.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(i,e){t.$header_.find(h.sprintf('th[data-field="%s"]',n(e).data("field"))).data(n(e).data())});var c=this.getVisibleFields(),d=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(i,e){var o=n(e),s=i;if(t.options.detailView&&!t.options.cardView&&(0===i&&t.$header_.find("th.detail").find(".fht-cell").width(o.innerWidth()),s=i-1),-1!==s){var a=t.$header_.find(h.sprintf('th[data-field="%s"]',c[s]));a.length>1&&(a=n(d[o[0].cellIndex]));var r=a.width()-a.find(".fht-cell").width();a.find(".fht-cell").width(o.innerWidth()-r)}}),this.horizontalScroll(),this.trigger("post-header")}},{key:"resetFooter",value:function(){var t=this.getData(),i=[];if(this.options.showFooter&&!this.options.cardView){!this.options.cardView&&this.options.detailView&&i.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>');var e=!0,s=!1,a=void 0;try{for(var r,l=this.columns[Symbol.iterator]();!(e=(r=l.next()).done);e=!0){var c=r.value,d="",p="",u=[],f={},g=h.sprintf(' class="%s"',c.class);if(!c.visible)return;if(this.options.cardView&&!c.cardVisible)return;if(d=h.sprintf("text-align: %s; ",c.falign?c.falign:c.align),p=h.sprintf("vertical-align: %s; ",c.valign),(f=h.calculateObjectValue(null,this.options.footerStyle))&&f.css){var v=!0,b=!1,y=void 0;try{for(var m,w=Object.keys(f.css)[Symbol.iterator]();!(v=(m=w.next()).done);v=!0){var k=m.value,x=o(k,2),S=x[0],$=x[1];u.push(S+": "+$)}}catch(t){b=!0,y=t}finally{try{!v&&w.return&&w.return()}finally{if(b)throw y}}}i.push("<td",g,h.sprintf(' style="%s"',d+p+u.concat().join("; ")),">"),i.push('<div class="th-inner">'),i.push(h.calculateObjectValue(c,c.footerFormatter,[t],"&nbsp;")||"&nbsp;"),i.push("</div>"),i.push('<div class="fht-cell"></div>'),i.push("</div>"),i.push("</td>")}}catch(t){s=!0,a=t}finally{try{!e&&l.return&&l.return()}finally{if(s)throw a}}this.$tableFooter.find("tr").html(i.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(n.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)}}},{key:"fitFooter",value:function(){if(clearTimeout(this.timeoutFooter_),this.$el.is(":hidden"))return void(this.timeoutFooter_=setTimeout(n.proxy(this.fitFooter,this),100));var t=this.$el.css("width"),i=t>this.$tableBody.width()?h.getScrollBarWidth():0;this.$tableFooter.css({"margin-right":i}).find("table").css("width",t).attr("class",this.$el.attr("class"));var e=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(t,i){var o=n(i);e.eq(t).find(".fht-cell").width(o.innerWidth())}),this.horizontalScroll()}},{key:"horizontalScroll",value:function(){var t=this;this.trigger("scroll-body"),this.$tableBody.off("scroll").on("scroll",function(i){var e=i.currentTarget;t.options.showHeader&&t.options.height&&t.$tableHeader.scrollLeft(n(e).scrollLeft()),t.options.showFooter&&!t.options.cardView&&t.$tableFooter.scrollLeft(n(e).scrollLeft())})}},{key:"toggleColumn",value:function(t,i,e){if(-1!==t&&(this.columns[t].visible=i,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var o=this.$toolbar.find(".keep-open input").prop("disabled",!1);e&&o.filter(h.sprintf('[value="%s"]',t)).prop("checked",i),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}}},{key:"getVisibleFields",value:function(){var t=[],i=!0,e=!1,o=void 0;try{for(var s,n=this.header.fields[Symbol.iterator]();!(i=(s=n.next()).done);i=!0){var a=s.value;this.columns[this.fieldsColumnsIndex[a]].visible&&t.push(a)}}catch(t){e=!0,o=t}finally{try{!i&&n.return&&n.return()}finally{if(e)throw o}}return t}},{key:"resetView",value:function(t){var i=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var e=this.$toolbar.outerHeight(!0),o=this.$pagination.outerHeight(!0),s=this.options.height-e-o;this.$tableContainer.css("height",s+"px")}if(this.options.cardView)return this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide();this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),i+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(i+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",i+"px"),this.trigger("reset-view")}},{key:"getData",value:function(t){var i=this.options.data;return!this.searchText&&!this.options.sortName&&n.isEmptyObject(this.filterColumns)&&n.isEmptyObject(this.filterColumnsPartial)||(i=this.data),t?i.slice(this.pageFrom-1,this.pageTo):i}},{key:"load",value:function(t){var i=!1,e=t;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=e[this.options.totalField]),i=e.fixedScroll,e=Array.isArray(e)?e:e[this.options.dataField],this.initData(e),this.initSearch(),this.initPagination(),this.initBody(i)}},{key:"append",value:function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"prepend",value:function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"remove",value:function(t){var i=this.options.data.length,e=void 0,o=void 0;if(t.hasOwnProperty("field")&&t.hasOwnProperty("values")){for(e=i-1;e>=0;e--)o=this.options.data[e],o.hasOwnProperty(t.field)&&t.values.includes(o[t.field])&&(this.options.data.splice(e,1),"server"===this.options.sidePagination&&(this.options.totalRows-=1));i!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}}},{key:"removeAll",value:function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"getRowByUniqueId",value:function(t){var i=this.options.uniqueId,e=this.options.data.length,o=t,s=null,n=void 0,a=void 0,r=void 0;for(n=e-1;n>=0;n--){if(a=this.options.data[n],a.hasOwnProperty(i))r=a[i];else{if(!a._data||!a._data.hasOwnProperty(i))continue;r=a._data[i]}if("string"==typeof r?o=o.toString():"number"==typeof r&&(Number(r)===r&&r%1==0?o=parseInt(o):r===Number(r)&&0!==r&&(o=parseFloat(o))),r===o){s=a;break}}return s}},{key:"removeByUniqueId",value:function(t){var i=this.options.data.length,e=this.getRowByUniqueId(t);e&&this.options.data.splice(this.options.data.indexOf(e),1),i!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"updateByUniqueId",value:function(t){var i=Array.isArray(t)?t:[t],e=!0,o=!1,s=void 0;try{for(var a,r=i[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var l=a.value;if(l.hasOwnProperty("id")&&l.hasOwnProperty("row")){var h=this.options.data.indexOf(this.getRowByUniqueId(l.id));-1!==h&&n.extend(this.options.data[h],l.row)}}}catch(t){o=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(o)throw s}}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"refreshColumnTitle",value:function(t){if(t.hasOwnProperty("field")&&t.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[t.field]].title=this.options.escape?h.escapeHTML(t.title):t.title,this.columns[this.fieldsColumnsIndex[t.field]].visible)){(void 0!==this.options.height?this.$tableHeader:this.$header).find("th[data-field]").each(function(i,e){if(n(e).data("field")===t.field)return n(n(e).find(".th-inner")[0]).text(t.title),!1})}}},{key:"insertRow",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.options.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"updateRow",value:function(t){var i=Array.isArray(t)?t:[t],e=!0,o=!1,s=void 0;try{for(var a,r=i[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var l=a.value;l.hasOwnProperty("index")&&l.hasOwnProperty("row")&&n.extend(this.options.data[l.index],l.row)}}catch(t){o=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(o)throw s}}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"showRow",value:function(t){this.toggleRow(t,!0)}},{key:"hideRow",value:function(t){this.toggleRow(t,!1)}},{key:"toggleRow",value:function(t,i){var e=void 0;if(t.hasOwnProperty("index")?e=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(e=this.getRowByUniqueId(t.uniqueId)),e){var o=h.findIndex(this.hiddenRows,e);i||-1!==o?i&&o>-1&&this.hiddenRows.splice(o,1):this.hiddenRows.push(e),this.initBody(!0)}}},{key:"getHiddenRows",value:function(t){if(t)return this.initHiddenRows(),void this.initBody(!0);var i=this.getData(),e=[],o=!0,s=!1,n=void 0;try{for(var a,r=i[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var l=a.value;this.hiddenRows.includes(l)&&e.push(l)}}catch(t){s=!0,n=t}finally{try{!o&&r.return&&r.return()}finally{if(s)throw n}}return this.hiddenRows=e,e}},{key:"mergeCells",value:function(t){var i=t.index,e=this.getVisibleFields().indexOf(t.field),o=t.rowspan||1,s=t.colspan||1,n=void 0,a=void 0,r=this.$body.find(">tr");this.options.detailView&&!this.options.cardView&&(e+=1);var l=r.eq(i).find(">td").eq(e);if(!(i<0||e<0||i>=this.data.length)){for(n=i;n<i+o;n++)for(a=e;a<e+s;a++)r.eq(n).find(">td").eq(a).hide();l.attr("rowspan",o).attr("colspan",s).show()}}},{key:"updateCell",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.data[t.index][t.field]=t.value,!1!==t.reinit&&(this.initSort(),this.initBody(!0)))}},{key:"updateCellById",value:function(t){var i=this;if(t.hasOwnProperty("id")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")){(Array.isArray(t)?t:[t]).forEach(function(t){var e=t.id,o=t.field,s=t.value,n=i.options.data.indexOf(i.getRowByUniqueId(e));-1!==n&&(i.data[n][o]=s)}),!1!==t.reinit&&(this.initSort(),this.initBody(!0))}}},{key:"getOptions",value:function(){var t=n.extend({},this.options);return delete t.data,n.extend(!0,{},t)}},{key:"getSelections",value:function(){var t=this;return this.options.data.filter(function(i){return!0===i[t.header.stateField]})}},{key:"getAllSelections",value:function(){var t=this;return this.options.data.filter(function(i){return i[t.header.stateField]})}},{key:"checkAll",value:function(){this.checkAll_(!0)}},{key:"uncheckAll",value:function(){this.checkAll_(!1)}},{key:"checkInvert",value:function(){var t=this.$selectItem.filter(":enabled"),i=t.filter(":checked");t.each(function(t,i){n(i).prop("checked",!n(i).prop("checked"))}),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",i),i=this.getSelections(),this.trigger("check-some",i)}},{key:"checkAll_",value:function(t){var i=void 0;t||(i=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),t&&(i=this.getSelections()),this.trigger(t?"check-all":"uncheck-all",i)}},{key:"check",value:function(t){this.check_(!0,t)}},{key:"uncheck",value:function(t){this.check_(!1,t)}},{key:"check_",value:function(t,i){var e=this.$selectItem.filter('[data-index="'+i+'"]'),o=this.data[i];if(e.is(":radio")||this.options.singleSelect){var s=!0,n=!1,a=void 0;try{for(var r,l=this.options.data[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){r.value[this.header.stateField]=!1}}catch(t){n=!0,a=t}finally{try{!s&&l.return&&l.return()}finally{if(n)throw a}}this.$selectItem.filter(":checked").not(e).prop("checked",!1)}o[this.header.stateField]=t,e.prop("checked",t),this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[i],e)}},{key:"checkBy",value:function(t){this.checkBy_(!0,t)}},{key:"uncheckBy",value:function(t){this.checkBy_(!1,t)}},{key:"checkBy_",value:function(t,i){var e=this;if(i.hasOwnProperty("field")&&i.hasOwnProperty("values")){var o=[];this.options.data.forEach(function(s,n){if(!s.hasOwnProperty(i.field))return!1;if(i.values.includes(s[i.field])){var a=e.$selectItem.filter(":enabled").filter(h.sprintf('[data-index="%s"]',n)).prop("checked",t);s[e.header.stateField]=t,o.push(s),e.trigger(t?"check":"uncheck",s,a)}}),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",o)}}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container),n(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")}},{key:"showLoading",value:function(){this.$tableLoading.show()}},{key:"hideLoading",value:function(){this.$tableLoading.hide()}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen")}},{key:"refresh",value:function(t){t&&t.url&&(this.options.url=t.url),t&&t.pageNumber&&(this.options.pageNumber=t.pageNumber),t&&t.pageSize&&(this.options.pageSize=t.pageSize),this.initServer(t&&t.silent,t&&t.query,t&&t.url),this.trigger("refresh",t)}},{key:"resetWidth",value:function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&!this.options.cardView&&this.fitFooter()}},{key:"showColumn",value:function(t){this.toggleColumn(this.fieldsColumnsIndex[t],!0,!0)}},{key:"hideColumn",value:function(t){this.toggleColumn(this.fieldsColumnsIndex[t],!1,!0)}},{key:"getHiddenColumns",value:function(){return this.columns.filter(function(t){return!t.visible})}},{key:"getVisibleColumns",value:function(){return this.columns.filter(function(t){return t.visible})}},{key:"toggleAllColumns",value:function(t){var i=!0,e=!1,o=void 0;try{for(var s,n=this.columns[Symbol.iterator]();!(i=(s=n.next()).done);i=!0){s.value.visible=t}}catch(t){e=!0,o=t}finally{try{!i&&n.return&&n.return()}finally{if(e)throw o}}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var a=this.$toolbar.find(".keep-open input").prop("disabled",!1);a.filter(":checked").length<=this.options.minimumCountColumns&&a.filter(":checked").prop("disabled",!0)}}},{key:"showAllColumns",value:function(){this.toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this.toggleAllColumns(!1)}},{key:"filterBy",value:function(t){this.filterColumns=n.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:"scrollTo",value:function(t){if(void 0===t)return this.$tableBody.scrollTop();var i=t;"string"==typeof t&&"bottom"===t&&(i=this.$tableBody[0].scrollHeight),this.$tableBody.scrollTop(i)}},{key:"getScrollPosition",value:function(){return this.scrollTo()}},{key:"selectPage",value:function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())}},{key:"prevPage",value:function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())}},{key:"nextPage",value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var t=this.$toolbar.find('button[name="toggle"] i');this.options.cardView?(t.removeClass(this.options.icons.toggleOff),t.addClass(this.options.icons.toggleOn)):(t.removeClass(this.options.icons.toggleOn),t.addClass(this.options.icons.toggleOff)),this.initBody(),this.trigger("toggle",this.options.cardView)}},{key:"refreshOptions",value:function(t){h.compareObjects(this.options,t,!0)||(this.options=n.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())}},{key:"resetSearch",value:function(t){var i=this.$toolbar.find(".search input");i.val(t||""),this.onSearch({currentTarget:i})}},{key:"expandRow_",value:function(t,i){var e=this.$body.find(h.sprintf('> tr[data-index="%s"]',i));e.next().is("tr.detail-view")===!t&&e.find("> td > .detail-icon").click()}},{key:"expandRow",value:function(t){this.expandRow_(!0,t)}},{key:"collapseRow",value:function(t){this.expandRow_(!1,t)}},{key:"expandAllRows",value:function(t){var i=this;if(t){var e=this.$body.find(h.sprintf('> tr[data-index="%s"]',0)),o=null,s=!1,a=-1;if(e.next().is("tr.detail-view")?e.next().next().is("tr.detail-view")||(e.next().find(".detail-icon").click(),
s=!0):(e.find("> td > .detail-icon").click(),s=!0),s)try{a=setInterval(function(){o=i.$body.find("tr.detail-view").last().find(".detail-icon"),o.length>0?o.click():clearInterval(a)},1)}catch(t){clearInterval(a)}}else for(var r=this.$body.children(),l=0;l<r.length;l++)this.expandRow_(!0,n(r[l]).data("index"))}},{key:"collapseAllRows",value:function(t){if(t)this.expandRow_(!1,0);else for(var i=this.$body.children(),e=0;e<i.length;e++)this.expandRow_(!1,n(i[e]).data("index"))}},{key:"updateFormatText",value:function(t,i){this.options[h.sprintf("format%s",t)]&&("string"==typeof i?this.options[h.sprintf("format%s",t)]=function(){return i}:"function"==typeof i&&(this.options[h.sprintf("format%s",t)]=i)),this.initToolbar(),this.initPagination(),this.initBody()}}]),i}();f.DEFAULTS=c,f.LOCALES=d,f.COLUMN_DEFAULTS=p,f.EVENTS=u;var g=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","refreshColumnTitle","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText","updateCellById"];n.BootstrapTable=f,n.fn.bootstrapTable=function(t){for(var i=arguments.length,e=Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];var a=void 0;return this.each(function(i,o){var r=n(o).data("bootstrap.table"),l=n.extend({},f.DEFAULTS,n(o).data(),"object"===(void 0===t?"undefined":s(t))&&t);if("string"==typeof t){var h;if(!g.includes(t))throw new Error("Unknown method: "+t);if(!r)return;a=(h=r)[t].apply(h,e),"destroy"===t&&n(o).removeData("bootstrap.table")}r||n(o).data("bootstrap.table",r=new n.BootstrapTable(o,l))}),void 0===a?this:a},n.fn.bootstrapTable.Constructor=f,n.fn.bootstrapTable.defaults=f.DEFAULTS,n.fn.bootstrapTable.columnDefaults=f.COLUMN_DEFAULTS,n.fn.bootstrapTable.locales=f.LOCALES,n.fn.bootstrapTable.methods=g,n.fn.bootstrapTable.utils=h,n(function(){n('[data-toggle="table"]').bootstrapTable()})}(jQuery)});